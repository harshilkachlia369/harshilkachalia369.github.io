<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beam Scale - Compare Prices</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚖️ Beam Scale</h1>
            <p>Compare prices and find the best deals</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab(0)">Search Products</button>
            <button class="tab" onclick="switchTab(1)">Amazon Transactions</button>
        </div>

        <div class="tab-content active" id="search-tab">
            <div class="search-container">
                <div class="search-box">
                    <input type="text" class="search-input" id="searchInput" placeholder="Search for any product...">
                    <button class="search-btn" onclick="searchProducts()">Search</button>
                </div>
            </div>

            <div id="results" class="no-results">
                <h3>Start searching to compare prices!</h3>
                <p>Enter any product name and we'll find the best prices across all stores</p>
            </div>
        </div>

        <div class="tab-content" id="transaction-tab">
            <div class="login-container" id="loginForm">
                <h2>Login to Amazon</h2>
                <div class="form-group">
                    <label>Email or Phone</label>
                    <input type="text" id="email" placeholder="Enter your email or phone">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="Enter your password">
                </div>
                <button class="login-btn" onclick="login()">Sign In</button>
            </div>

            <div class="transactions" id="transactionList">
                <h2 style="margin-bottom: 30px; color: #333;">Your Amazon Transactions</h2>
                <div id="transactionData"></div>
            </div>
        </div>
    </div>

    <script>
        const stores = [
            { name: 'Amazon', class: 'amazon' },
            { name: 'Flipkart', class: 'flipkart' },
            { name: 'Meesho', class: 'meesho' },
            { name: 'Myntra', class: 'myntra' },
            { name: 'Ajio', class: 'ajio' }
        ];
        
        function switchTab(index) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            tabs[index].classList.add('active');
            contents[index].classList.add('active');
        }

        function generateRandomPrice(basePrice) {
            // Generate prices within 10-20% variation
            const variation = basePrice * (0.1 + Math.random() * 0.1);
            const price = basePrice + (Math.random() > 0.5 ? variation : -variation);
            return Math.round(price);
        }

        function searchProducts() {
            const query = document.getElementById('searchInput').value.trim();
            const resultsDiv = document.getElementById('results');
            
            if (!query) {
                resultsDiv.innerHTML = '<div class="no-results"><h3>Please enter a search term</h3></div>';
                return;
            }

            // Determine base price based on product type or use random
            let basePrice = 1000 + Math.random() * 20000;
            
            // Adjust base price for common product categories
            const lowerQuery = query.toLowerCase();
            if (lowerQuery.includes('laptop') || lowerQuery.includes('computer')) {
                basePrice = 40000 + Math.random() * 40000;
            } else if (lowerQuery.includes('phone') || lowerQuery.includes('mobile')) {
                basePrice = 15000 + Math.random() * 60000;
            } else if (lowerQuery.includes('watch') || lowerQuery.includes('smartwatch')) {
                basePrice = 5000 + Math.random() * 35000;
            } else if (lowerQuery.includes('headphone') || lowerQuery.includes('earphone') || lowerQuery.includes('earbud')) {
                basePrice = 1000 + Math.random() * 15000;
            } else if (lowerQuery.includes('shoe') || lowerQuery.includes('sneaker')) {
                basePrice = 1500 + Math.random() * 8000;
            } else if (lowerQuery.includes('shirt') || lowerQuery.includes('tshirt') || lowerQuery.includes('t-shirt')) {
                basePrice = 500 + Math.random() * 2500;
            } else if (lowerQuery.includes('jeans') || lowerQuery.includes('pant') || lowerQuery.includes('trouser')) {
                basePrice = 800 + Math.random() * 3500;
            } else if (lowerQuery.includes('bag') || lowerQuery.includes('backpack')) {
                basePrice = 800 + Math.random() * 5000;
            } else if (lowerQuery.includes('tv') || lowerQuery.includes('television')) {
                basePrice = 15000 + Math.random() * 85000;
            } else if (lowerQuery.includes('fridge') || lowerQuery.includes('refrigerator')) {
                basePrice = 12000 + Math.random() * 50000;
            } else if (lowerQuery.includes('ac') || lowerQuery.includes('air conditioner')) {
                basePrice = 25000 + Math.random() * 45000;
            } else if (lowerQuery.includes('camera')) {
                basePrice = 15000 + Math.random() * 85000;
            } else if (lowerQuery.includes('tablet') || lowerQuery.includes('ipad')) {
                basePrice = 15000 + Math.random() * 60000;
            } else if (lowerQuery.includes('speaker')) {
                basePrice = 1000 + Math.random() * 15000;
            } else if (lowerQuery.includes('book')) {
                basePrice = 200 + Math.random() * 1500;
            } else if (lowerQuery.includes('perfume') || lowerQuery.includes('fragrance')) {
                basePrice = 500 + Math.random() * 8000;
            }

            // Generate results for ALL stores
            let html = '<div class="results-grid">';
            
            stores.forEach(store => {
                const price = generateRandomPrice(basePrice);
                
                html += `
                    <div class="result-card">
                        <span class="store-badge ${store.class}">${store.name}</span>
                        <div class="product-name">${query}</div>
                        <div class="product-price">₹${price.toLocaleString('en-IN')}</div>
                        <button class="view-btn" onclick="alert('Redirecting to ${store.name}...')">View on ${store.name}</button>
                    </div>
                `;
            });
            
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchProducts();
            }
        });

        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            // Simulate login and show transactions
            document.getElementById('loginForm').style.display = 'none';
            const transactionList = document.getElementById('transactionList');
            transactionList.classList.add('active');
            
            // Generate sample transactions
            const transactions = [
                { date: '2026-01-20', item: 'Wireless Headphones', amount: '2,499.00', status: 'Delivered' },
                { date: '2026-01-15', item: 'Smart Watch', amount: '4,999.00', status: 'Delivered' },
                { date: '2026-01-10', item: 'Phone Case', amount: '299.00', status: 'Delivered' },
                { date: '2026-01-05', item: 'USB Cable', amount: '199.00', status: 'Delivered' },
                { date: '2025-12-28', item: 'Laptop Bag', amount: '1,499.00', status: 'Delivered' },
                { date: '2025-12-20', item: 'Bluetooth Speaker', amount: '1,999.00', status: 'Delivered' },
                { date: '2025-12-15', item: 'Gaming Mouse', amount: '1,299.00', status: 'Delivered' },
                { date: '2025-12-10', item: 'Keyboard', amount: '2,199.00', status: 'Delivered' }
            ];
            
            let transHTML = '';
            transactions.forEach(trans => {
                transHTML += `
                    <div class="transaction-card">
                        <div class="transaction-header">
                            <div>
                                <div class="transaction-item">${trans.item}</div>
                                <div class="transaction-date">${trans.date}</div>
                            </div>
                            <div class="transaction-amount">₹${trans.amount}</div>
                        </div>
                        <div class="transaction-status">${trans.status}</div>
                    </div>
                `;
            });
            
            document.getElementById('transactionData').innerHTML = transHTML;
        }
    </script>
</body>
</html>
